{"ast":null,"code":"import _defineProperty from\"/Users/bagus/webapproval/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/bagus/webapproval/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/bagus/webapproval/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Flex,Box,Heading,FormControl,FormLabel,Input,Button,CircularProgress,Text,InputGroup,InputRightElement,Icon}from'@chakra-ui/core';import{login}from\"../actions\";function LoginPage(){var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),inputs=_useState2[0],setInputs=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),submitted=_useState4[0],setSubmitted=_useState4[1];var email=inputs.email,password=inputs.password;var loggingIn=useSelector(function(state){return state.authentication.loggingIn;});var alert=useSelector(function(state){return state.alert;});var dispatch=useDispatch();// useEffect(() => {\n//   dispatch(userActions.logout());\n// }, []);\nfunction handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setInputs(function(inputs){return _objectSpread(_objectSpread({},inputs),{},_defineProperty({},name,value));});}function handleSubmit(e){e.preventDefault();setSubmitted(true);if(email&&password){dispatch(login(email,password));}}var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showPassword=_useState6[0],setShowPassword=_useState6[1];var handlePasswordVisibility=function handlePasswordVisibility(){return setShowPassword(!showPassword);};return/*#__PURE__*/_jsx(Flex,{width:\"full\",align:\"center\",justifyContent:\"center\",children:/*#__PURE__*/_jsx(Box,{p:8,maxWidth:\"500px\",borderWidth:1,borderRadius:8,boxShadow:\"lg\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Box,{textAlign:\"center\",children:/*#__PURE__*/_jsx(Heading,{children:\"Login\"})}),/*#__PURE__*/_jsx(Box,{my:4,textAlign:\"left\",children:/*#__PURE__*/_jsxs(\"form\",{name:\"form\",className:\"form\",onSubmit:handleSubmit,children:[alert.message&&/*#__PURE__*/_jsx(\"div\",{className:\"alert \".concat(alert.type),children:alert.message}),/*#__PURE__*/_jsxs(FormControl,{children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Username\"}),/*#__PURE__*/_jsx(Input,{type:\"email\",name:\"email\",value:email,onChange:handleChange,className:\"form-control\"+(submitted&&!email?\" is-invalid\":\"\")}),submitted&&!email&&/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:\"Username is required\"})]}),/*#__PURE__*/_jsxs(FormControl,{isRequired:true,mt:6,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Password\"}),/*#__PURE__*/_jsxs(InputGroup,{children:[/*#__PURE__*/_jsx(Input,{type:\"password\",name:\"password\",value:password,onChange:handleChange}),/*#__PURE__*/_jsx(InputRightElement,{width:\"3rem\",children:/*#__PURE__*/_jsx(Button,{h:\"1.5rem\",size:\"sm\",onClick:handlePasswordVisibility,children:showPassword?/*#__PURE__*/_jsx(Icon,{name:\"view-off\"}):/*#__PURE__*/_jsx(Icon,{name:\"view\"})})})]})]}),/*#__PURE__*/_jsx(Button,{variantColor:\"teal\",variant:\"outline\",type:\"submit\",width:\"full\",mt:4,children:loggingIn?/*#__PURE__*/_jsx(CircularProgress,{isIndeterminate:true,size:\"24px\",color:\"teal\"}):'Sign In'})]})})]})})});}export{LoginPage};","map":{"version":3,"sources":["/Users/bagus/webapproval/src/LoginPage/LoginPage.js"],"names":["React","useState","useEffect","useDispatch","useSelector","Flex","Box","Heading","FormControl","FormLabel","Input","Button","CircularProgress","Text","InputGroup","InputRightElement","Icon","login","LoginPage","email","password","inputs","setInputs","submitted","setSubmitted","loggingIn","state","authentication","alert","dispatch","handleChange","e","target","name","value","handleSubmit","preventDefault","showPassword","setShowPassword","handlePasswordVisibility","message","type"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  Flex,\n  Box,\n  Heading,\n  FormControl,\n  FormLabel,\n  Input,\n  Button,\n  CircularProgress,\n  Text,\n  InputGroup,\n  InputRightElement,\n  Icon\n} from '@chakra-ui/core';\nimport { login } from \"../actions\";\n\nfunction LoginPage() {\n  const [inputs, setInputs] = useState({\n    email: \"\",\n    password: \"\",\n  });\n  const [submitted, setSubmitted] = useState(false);\n  const { email, password } = inputs;\n  const loggingIn = useSelector((state) => state.authentication.loggingIn);\n  const alert = useSelector((state) => state.alert);\n  const dispatch = useDispatch();\n\n  // useEffect(() => {\n  //   dispatch(userActions.logout());\n  // }, []);\n\n  function handleChange(e) {\n    const { name, value } = e.target;\n    setInputs((inputs) => ({ ...inputs, [name]: value }));\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    setSubmitted(true);\n    if (email && password) {\n      dispatch(login(email, password));\n    }\n  }\n  const [showPassword, setShowPassword] = useState(false);\n\n\n  const handlePasswordVisibility = () => setShowPassword(!showPassword);\n\n\n  return (\n    <Flex width=\"full\" align=\"center\" justifyContent=\"center\">\n      <Box\n        p={8}\n        maxWidth=\"500px\"\n        borderWidth={1}\n        borderRadius={8}\n        boxShadow=\"lg\"\n      >\n        <div>\n   <Box textAlign=\"center\">\n              <Heading>Login</Heading>\n            </Box>\n            <Box my={4} textAlign=\"left\">\n      <form name=\"form\" className=\"form\" onSubmit={handleSubmit}>\n        {alert.message && (\n          <div className={`alert ${alert.type}`}>{alert.message}</div>\n        )}\n        <FormControl>\n          <FormLabel>Username</FormLabel>\n          <Input\n            type=\"email\"\n            name=\"email\"\n            value={email}\n            onChange={handleChange}\n            className={\n              \"form-control\" + (submitted && !email ? \" is-invalid\" : \"\")\n            }\n          />\n          {submitted && !email && (\n            <div className=\"invalid-feedback\">Username is required</div>\n          )}\n        </FormControl>\n        <FormControl isRequired mt={6}>\n          <FormLabel>Password</FormLabel>\n          <InputGroup>\n          <Input\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={handleChange}\n            \n          />\n            <InputRightElement width=\"3rem\">\n                      <Button\n                        h=\"1.5rem\"\n                        size=\"sm\"\n                        onClick={handlePasswordVisibility}\n                      >\n                        {showPassword ? (\n                          <Icon name=\"view-off\" />\n                        ) : (\n                          <Icon name=\"view\" />\n                        )}\n                      </Button>\n                    </InputRightElement>\n          {/* {submitted && !password && (\n            <div className=\"invalid-feedback\">Password is required</div>\n          )} */}\n          \n          </InputGroup>\n        </FormControl>\n        <Button\n                  variantColor=\"teal\"\n                  variant=\"outline\"\n                  type=\"submit\"\n                  width=\"full\"\n                  mt={4}\n                >\n            {loggingIn ? (\n              <CircularProgress   isIndeterminate\n              size=\"24px\"\n              color=\"teal\"/>\n            ) : (\n                'Sign In'\n            )}\n          </Button>\n      </form>\n      </Box>\n      </div>\n    </Box>\n    </Flex>\n  );\n}\n\nexport { LoginPage };\n"]},"metadata":{},"sourceType":"module"}