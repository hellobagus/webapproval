{"ast":null,"code":"import _slicedToArray from \"/Users/bagus/webapproval/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from \"react\";\nimport { useTransition, animated } from \"react-spring\";\nimport ReachAlert from \"@reach/alert\";\nimport Alert from \"./Alert\";\nimport { useTimeout } from \"./useTimeout\";\n\nvar getStyle = function getStyle(position) {\n  var style = {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  };\n\n  if (position.includes(\"right\")) {\n    style.alignItems = \"flex-end\";\n  } else if (position.includes(\"left\")) {\n    style.alignItems = \"flex-start\";\n  }\n\n  return style;\n};\n\nexport var Message = function Message(_ref) {\n  var id = _ref.id,\n      message = _ref.message,\n      position = _ref.position,\n      onRequestRemove = _ref.onRequestRemove,\n      _ref$requestClose = _ref.requestClose,\n      requestClose = _ref$requestClose === void 0 ? false : _ref$requestClose,\n      _ref$duration = _ref.duration,\n      duration = _ref$duration === void 0 ? 30000 : _ref$duration;\n  var container = React.useRef(null);\n\n  var _React$useState = React.useState(duration),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      timeout = _React$useState2[0],\n      setTimeout = _React$useState2[1];\n\n  var _React$useState3 = React.useState(true),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      localShow = _React$useState4[0],\n      setLocalShow = _React$useState4[1];\n\n  var isFromTop = position === \"top-left\" || position === \"top-right\" || position === \"top\";\n  useTimeout(close, timeout);\n  var animation = {\n    config: {\n      mass: 1,\n      tension: 185,\n      friction: 26\n    },\n    from: {\n      opacity: 1,\n      height: 0,\n      transform: \"translateY(\".concat(isFromTop ? \"-100%\" : 0, \") scale(1)\")\n    },\n    enter: function enter() {\n      return function (next) {\n        return next({\n          opacity: 1,\n          height: container.current.getBoundingClientRect().height,\n          transform: \"translateY(0) scale(1)\"\n        });\n      };\n    },\n    leave: {\n      opacity: 0,\n      height: 0,\n      transform: \"translateY(0 scale(0.9)\"\n    },\n    onRest: onRest\n  };\n  var transition = useTransition(localShow, null, animation);\n  var style = React.useMemo(function () {\n    return getStyle(position);\n  }, [position]);\n\n  function onMouseEnter() {\n    setTimeout(null);\n  }\n\n  function onMouseLeave() {\n    setTimeout(duration);\n  }\n\n  function onRest() {\n    if (!localShow) {\n      onRequestRemove();\n    }\n  }\n\n  function close() {\n    setLocalShow(false);\n  }\n\n  React.useEffect(function () {\n    if (requestClose) {\n      setLocalShow(false);\n    }\n  }, [requestClose]);\n\n  function renderMessage() {\n    if (typeof message === \"string\" || React.isValidElement(message)) {\n      return React.createElement(Alert, {\n        id: id,\n        title: message,\n        onClose: close\n      });\n    }\n\n    if (typeof message === \"function\") {\n      return message({\n        id: id,\n        onClose: close\n      });\n    }\n\n    return null;\n  }\n\n  return React.createElement(React.Fragment, null, transition.map(function (_ref2) {\n    var key = _ref2.key,\n        item = _ref2.item,\n        props = _ref2.props;\n    return item && React.createElement(animated.div, {\n      key: key,\n      className: \"Toaster__message\",\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      style: Object.assign({\n        opacity: props.opacity,\n        height: props.height\n      }, style)\n    }, React.createElement(animated.div, {\n      style: {\n        transform: props.transform,\n        pointerEvents: \"auto\"\n      },\n      ref: container,\n      className: \"Toaster__message-wrapper\"\n    }, React.createElement(ReachAlert, null, renderMessage())));\n  }));\n};","map":{"version":3,"sources":["/Users/bagus/webapproval/node_modules/toasted-notes/lib/Message.js"],"names":["React","useTransition","animated","ReachAlert","Alert","useTimeout","getStyle","position","style","display","flexDirection","alignItems","includes","Message","id","message","onRequestRemove","requestClose","duration","container","useRef","useState","timeout","setTimeout","localShow","setLocalShow","isFromTop","close","animation","config","mass","tension","friction","from","opacity","height","transform","enter","next","current","getBoundingClientRect","leave","onRest","transition","useMemo","onMouseEnter","onMouseLeave","useEffect","renderMessage","isValidElement","createElement","title","onClose","Fragment","map","key","item","props","div","className","Object","assign","pointerEvents","ref"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,aAAT,EAAwBC,QAAxB,QAAwC,cAAxC;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAASC,UAAT,QAA2B,cAA3B;;AACA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,QAAD,EAAc;AAC3B,MAAIC,KAAK,GAAG;AACRC,IAAAA,OAAO,EAAE,MADD;AAERC,IAAAA,aAAa,EAAE,QAFP;AAGRC,IAAAA,UAAU,EAAE;AAHJ,GAAZ;;AAKA,MAAIJ,QAAQ,CAACK,QAAT,CAAkB,OAAlB,CAAJ,EAAgC;AAC5BJ,IAAAA,KAAK,CAACG,UAAN,GAAmB,UAAnB;AACH,GAFD,MAGK,IAAIJ,QAAQ,CAACK,QAAT,CAAkB,MAAlB,CAAJ,EAA+B;AAChCJ,IAAAA,KAAK,CAACG,UAAN,GAAmB,YAAnB;AACH;;AACD,SAAOH,KAAP;AACH,CAbD;;AAcA,OAAO,IAAMK,OAAO,GAAG,SAAVA,OAAU,OAAwF;AAAA,MAArFC,EAAqF,QAArFA,EAAqF;AAAA,MAAjFC,OAAiF,QAAjFA,OAAiF;AAAA,MAAxER,QAAwE,QAAxEA,QAAwE;AAAA,MAA9DS,eAA8D,QAA9DA,eAA8D;AAAA,+BAA7CC,YAA6C;AAAA,MAA7CA,YAA6C,kCAA9B,KAA8B;AAAA,2BAAvBC,QAAuB;AAAA,MAAvBA,QAAuB,8BAAZ,KAAY;AAC3G,MAAMC,SAAS,GAAGnB,KAAK,CAACoB,MAAN,CAAa,IAAb,CAAlB;;AAD2G,wBAE7EpB,KAAK,CAACqB,QAAN,CAAeH,QAAf,CAF6E;AAAA;AAAA,MAEpGI,OAFoG;AAAA,MAE3FC,UAF2F;;AAAA,yBAGzEvB,KAAK,CAACqB,QAAN,CAAe,IAAf,CAHyE;AAAA;AAAA,MAGpGG,SAHoG;AAAA,MAGzFC,YAHyF;;AAI3G,MAAMC,SAAS,GAAGnB,QAAQ,KAAK,UAAb,IAA2BA,QAAQ,KAAK,WAAxC,IAAuDA,QAAQ,KAAK,KAAtF;AACAF,EAAAA,UAAU,CAACsB,KAAD,EAAQL,OAAR,CAAV;AACA,MAAMM,SAAS,GAAG;AACdC,IAAAA,MAAM,EAAE;AAAEC,MAAAA,IAAI,EAAE,CAAR;AAAWC,MAAAA,OAAO,EAAE,GAApB;AAAyBC,MAAAA,QAAQ,EAAE;AAAnC,KADM;AAEdC,IAAAA,IAAI,EAAE;AACFC,MAAAA,OAAO,EAAE,CADP;AAEFC,MAAAA,MAAM,EAAE,CAFN;AAGFC,MAAAA,SAAS,uBAAgBV,SAAS,GAAG,OAAH,GAAa,CAAtC;AAHP,KAFQ;AAOdW,IAAAA,KAAK,EAAE;AAAA,aAAM,UAACC,IAAD;AAAA,eAAUA,IAAI,CAAC;AACxBJ,UAAAA,OAAO,EAAE,CADe;AAExBC,UAAAA,MAAM,EAAEhB,SAAS,CAACoB,OAAV,CAAkBC,qBAAlB,GAA0CL,MAF1B;AAGxBC,UAAAA,SAAS;AAHe,SAAD,CAAd;AAAA,OAAN;AAAA,KAPO;AAYdK,IAAAA,KAAK,EAAE;AACHP,MAAAA,OAAO,EAAE,CADN;AAEHC,MAAAA,MAAM,EAAE,CAFL;AAGHC,MAAAA,SAAS;AAHN,KAZO;AAiBdM,IAAAA,MAAM,EAANA;AAjBc,GAAlB;AAmBA,MAAMC,UAAU,GAAG1C,aAAa,CAACuB,SAAD,EAAY,IAAZ,EAAkBI,SAAlB,CAAhC;AACA,MAAMpB,KAAK,GAAGR,KAAK,CAAC4C,OAAN,CAAc;AAAA,WAAMtC,QAAQ,CAACC,QAAD,CAAd;AAAA,GAAd,EAAwC,CAACA,QAAD,CAAxC,CAAd;;AACA,WAASsC,YAAT,GAAwB;AACpBtB,IAAAA,UAAU,CAAC,IAAD,CAAV;AACH;;AACD,WAASuB,YAAT,GAAwB;AACpBvB,IAAAA,UAAU,CAACL,QAAD,CAAV;AACH;;AACD,WAASwB,MAAT,GAAkB;AACd,QAAI,CAAClB,SAAL,EAAgB;AACZR,MAAAA,eAAe;AAClB;AACJ;;AACD,WAASW,KAAT,GAAiB;AACbF,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACH;;AACDzB,EAAAA,KAAK,CAAC+C,SAAN,CAAgB,YAAM;AAClB,QAAI9B,YAAJ,EAAkB;AACdQ,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACH;AACJ,GAJD,EAIG,CAACR,YAAD,CAJH;;AAKA,WAAS+B,aAAT,GAAyB;AACrB,QAAI,OAAOjC,OAAP,KAAmB,QAAnB,IAA+Bf,KAAK,CAACiD,cAAN,CAAqBlC,OAArB,CAAnC,EAAkE;AAC9D,aAAOf,KAAK,CAACkD,aAAN,CAAoB9C,KAApB,EAA2B;AAAEU,QAAAA,EAAE,EAAEA,EAAN;AAAUqC,QAAAA,KAAK,EAAEpC,OAAjB;AAA0BqC,QAAAA,OAAO,EAAEzB;AAAnC,OAA3B,CAAP;AACH;;AACD,QAAI,OAAOZ,OAAP,KAAmB,UAAvB,EAAmC;AAC/B,aAAOA,OAAO,CAAC;AACXD,QAAAA,EAAE,EAAFA,EADW;AAEXsC,QAAAA,OAAO,EAAEzB;AAFE,OAAD,CAAd;AAIH;;AACD,WAAO,IAAP;AACH;;AACD,SAAQ3B,KAAK,CAACkD,aAAN,CAAoBlD,KAAK,CAACqD,QAA1B,EAAoC,IAApC,EAA0CV,UAAU,CAACW,GAAX,CAAe;AAAA,QAAGC,GAAH,SAAGA,GAAH;AAAA,QAAQC,IAAR,SAAQA,IAAR;AAAA,QAAcC,KAAd,SAAcA,KAAd;AAAA,WAA0BD,IAAI,IAAKxD,KAAK,CAACkD,aAAN,CAAoBhD,QAAQ,CAACwD,GAA7B,EAAkC;AAAEH,MAAAA,GAAG,EAAEA,GAAP;AAAYI,MAAAA,SAAS,EAAE,kBAAvB;AAA2Cd,MAAAA,YAAY,EAAEA,YAAzD;AAAuEC,MAAAA,YAAY,EAAEA,YAArF;AAAmGtC,MAAAA,KAAK,EAAEoD,MAAM,CAACC,MAAP,CAAc;AAAE3B,QAAAA,OAAO,EAAEuB,KAAK,CAACvB,OAAjB;AAA0BC,QAAAA,MAAM,EAAEsB,KAAK,CAACtB;AAAxC,OAAd,EAAgE3B,KAAhE;AAA1G,KAAlC,EAChGR,KAAK,CAACkD,aAAN,CAAoBhD,QAAQ,CAACwD,GAA7B,EAAkC;AAAElD,MAAAA,KAAK,EAAE;AACnC4B,QAAAA,SAAS,EAAEqB,KAAK,CAACrB,SADkB;AAEnC0B,QAAAA,aAAa,EAAE;AAFoB,OAAT;AAG3BC,MAAAA,GAAG,EAAE5C,SAHsB;AAGXwC,MAAAA,SAAS,EAAE;AAHA,KAAlC,EAII3D,KAAK,CAACkD,aAAN,CAAoB/C,UAApB,EAAgC,IAAhC,EAAsC6C,aAAa,EAAnD,CAJJ,CADgG,CAAnC;AAAA,GAAf,CAA1C,CAAR;AAMH,CAhEM","sourcesContent":["import * as React from \"react\";\nimport { useTransition, animated } from \"react-spring\";\nimport ReachAlert from \"@reach/alert\";\nimport Alert from \"./Alert\";\nimport { useTimeout } from \"./useTimeout\";\nconst getStyle = (position) => {\n    let style = {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\"\n    };\n    if (position.includes(\"right\")) {\n        style.alignItems = \"flex-end\";\n    }\n    else if (position.includes(\"left\")) {\n        style.alignItems = \"flex-start\";\n    }\n    return style;\n};\nexport const Message = ({ id, message, position, onRequestRemove, requestClose = false, duration = 30000 }) => {\n    const container = React.useRef(null);\n    const [timeout, setTimeout] = React.useState(duration);\n    const [localShow, setLocalShow] = React.useState(true);\n    const isFromTop = position === \"top-left\" || position === \"top-right\" || position === \"top\";\n    useTimeout(close, timeout);\n    const animation = {\n        config: { mass: 1, tension: 185, friction: 26 },\n        from: {\n            opacity: 1,\n            height: 0,\n            transform: `translateY(${isFromTop ? \"-100%\" : 0}) scale(1)`\n        },\n        enter: () => (next) => next({\n            opacity: 1,\n            height: container.current.getBoundingClientRect().height,\n            transform: `translateY(0) scale(1)`\n        }),\n        leave: {\n            opacity: 0,\n            height: 0,\n            transform: `translateY(0 scale(0.9)`\n        },\n        onRest\n    };\n    const transition = useTransition(localShow, null, animation);\n    const style = React.useMemo(() => getStyle(position), [position]);\n    function onMouseEnter() {\n        setTimeout(null);\n    }\n    function onMouseLeave() {\n        setTimeout(duration);\n    }\n    function onRest() {\n        if (!localShow) {\n            onRequestRemove();\n        }\n    }\n    function close() {\n        setLocalShow(false);\n    }\n    React.useEffect(() => {\n        if (requestClose) {\n            setLocalShow(false);\n        }\n    }, [requestClose]);\n    function renderMessage() {\n        if (typeof message === \"string\" || React.isValidElement(message)) {\n            return React.createElement(Alert, { id: id, title: message, onClose: close });\n        }\n        if (typeof message === \"function\") {\n            return message({\n                id,\n                onClose: close\n            });\n        }\n        return null;\n    }\n    return (React.createElement(React.Fragment, null, transition.map(({ key, item, props }) => item && (React.createElement(animated.div, { key: key, className: \"Toaster__message\", onMouseEnter: onMouseEnter, onMouseLeave: onMouseLeave, style: Object.assign({ opacity: props.opacity, height: props.height }, style) },\n        React.createElement(animated.div, { style: {\n                transform: props.transform,\n                pointerEvents: \"auto\"\n            }, ref: container, className: \"Toaster__message-wrapper\" },\n            React.createElement(ReachAlert, null, renderMessage())))))));\n};\n"]},"metadata":{},"sourceType":"module"}