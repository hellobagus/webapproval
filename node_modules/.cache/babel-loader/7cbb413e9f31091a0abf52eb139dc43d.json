{"ast":null,"code":"import axios from \"axios\";\nimport httpClient from \"./HttpClient\";\nimport { requestmReducer } from \"reducers/MenuReducer\";\n\nclass MenuController {\n  constructor() {\n    this.getSearch = async query => {\n      try {\n        const result = await httpClient.request({\n          url: `${this.appPath}/viewMenu?q=${query.toLowerCase()}`,\n          method: \"GET\"\n        });\n        return result;\n      } catch (error) {\n        return Promise.reject(error);\n      }\n    };\n\n    this.getMenu = async userId => {\n      try {\n        const result = await httpClient.request({\n          url: `${this.appPath}/groupMenu`,\n          method: \"POST\",\n          data: {\n            approval_user: userId\n          }\n        });\n        return result;\n      } catch (error) {\n        return Promise.reject(error);\n      }\n    };\n\n    this.getApproval = async (userId, entity_cd) => {\n      try {\n        const result = await httpClient.request({\n          url: `${this.appPath}/approvalMenu`,\n          method: \"POST\",\n          data: {\n            approval_user: userId,\n            entity_cd: entity_cd\n          }\n        });\n        return result;\n      } catch (error) {\n        return Promise.reject(error);\n      }\n    };\n\n    this.getDetail = async (app_user, approval_id, entity_cd) => {\n      try {\n        const result = await httpClient.request({\n          url: `${this.appPath}/viewMenu`,\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          data: {\n            approval_user: app_user,\n            approval_id: approval_id,\n            entity_cd: entity_cd\n          }\n        });\n        return result;\n      } catch (error) {\n        return Promise.reject(error);\n      }\n    };\n\n    this.getOtorisasi = async (entity, docNo, approval_user, approval_id) => {\n      try {\n        const result = await httpClient.request({\n          url: `${this.appPath}/otorisasi`,\n          method: \"POST\",\n          data: {\n            entity_cd: entity,\n            request_no: docNo,\n            approval_user: approval_user,\n            approval_id: approval_id\n          }\n        });\n        return result;\n      } catch (error) {\n        return Promise.reject(error);\n      }\n    };\n\n    this.getAttachment = async (entity, docNo) => {\n      try {\n        const result = await httpClient.request({\n          url: `${this.appPath}/getAttachment`,\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          data: {\n            entity_cd: entity,\n            doc_no: docNo // type: type\n\n          }\n        });\n        return result;\n      } catch (error) {\n        return Promise.reject(error);\n      }\n    };\n\n    this.getForm = async (entity, docNo) => {\n      try {\n        const result = await httpClient.request({\n          url: `${this.appPath}/getForm`,\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          data: {\n            entity_cd: entity,\n            doc_no: docNo // type: type\n\n          }\n        });\n        return result;\n      } catch (error) {\n        return Promise.reject(error);\n      }\n    };\n\n    this.setApprove = async (status, data, requestm) => {\n      try {\n        const result = await httpClient.request({\n          url: `${this.appPath}/updateApproval/${status}`,\n          method: \"POST\",\n          data: {\n            entity_cd: data.entity_cd,\n            doc_no: data.doc_no,\n            status,\n            doc_date: data.doc_date,\n            remarks: data.reason_remarks,\n            approval_id: data.approval_id,\n            trx_type: data.trx_type,\n            approve_seq: data.approve_seq,\n            level_no: data.level_no,\n            approval_user: data.approval_user,\n            // request_no: data.doc_no,\n            requestm: requestm // line_no: requestm[0].line_no,\n            // item_cd: requestm[0].item_cd,\n            // qty: requestm.approved_qty,\n\n          }\n        });\n        return result;\n      } catch (error) {\n        return Promise.reject(error);\n      }\n    };\n\n    // this.basePath = '/c_menu';\n    this.appPath = \"/c_approval\";\n  }\n\n}\n\nexport default new MenuController();","map":{"version":3,"sources":["/Users/bagus/Appiness_APP/src/services/MenuController.js"],"names":["axios","httpClient","requestmReducer","MenuController","constructor","getSearch","query","result","request","url","appPath","toLowerCase","method","error","Promise","reject","getMenu","userId","data","approval_user","getApproval","entity_cd","getDetail","app_user","approval_id","headers","getOtorisasi","entity","docNo","request_no","getAttachment","doc_no","getForm","setApprove","status","requestm","doc_date","remarks","reason_remarks","trx_type","approve_seq","level_no"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport httpClient from \"./HttpClient\";\nimport { requestmReducer } from \"reducers/MenuReducer\";\n\nclass MenuController {\n  constructor() {\n    // this.basePath = '/c_menu';\n    this.appPath = \"/c_approval\";\n  }\n\n  getSearch = async (query) => {\n    try {\n      const result = await httpClient.request({\n        url: `${this.appPath}/viewMenu?q=${query.toLowerCase()}`,\n        method: \"GET\",\n      });\n      return result;\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  };\n\n  getMenu = async (userId) => {\n    try {\n      const result = await httpClient.request({\n        url: `${this.appPath}/groupMenu`,\n        method: \"POST\",\n        data: {\n          approval_user: userId,\n        },\n      });\n      return result;\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  };\n\n  getApproval = async (userId, entity_cd) => {\n    try {\n      const result = await httpClient.request({\n        url: `${this.appPath}/approvalMenu`,\n        method: \"POST\",\n        data: {\n          approval_user: userId,\n          entity_cd: entity_cd,\n        },\n      });\n      return result;\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  };\n\n  getDetail = async (app_user, approval_id, entity_cd) => {\n    try {\n      const result = await httpClient.request({\n        url: `${this.appPath}/viewMenu`,\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        data: {\n          approval_user: app_user,\n          approval_id: approval_id,\n          entity_cd: entity_cd,\n        },\n      });\n      return result;\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  };\n\n  getOtorisasi = async (entity, docNo, approval_user, approval_id) => {\n    try {\n      const result = await httpClient.request({\n        url: `${this.appPath}/otorisasi`,\n        method: \"POST\",\n        data: {\n          entity_cd: entity,\n          request_no: docNo,\n          approval_user: approval_user,\n          approval_id: approval_id,\n        },\n      });\n      return result;\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  };\n\n  getAttachment = async (entity, docNo) => {\n    try {\n      const result = await httpClient.request({\n        url: `${this.appPath}/getAttachment`,\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        data: {\n          entity_cd: entity,\n          doc_no: docNo,\n          // type: type\n        },\n      });\n      return result;\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  };\n\n  getForm = async (entity, docNo) => {\n    try {\n      const result = await httpClient.request({\n        url: `${this.appPath}/getForm`,\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        data: {\n          entity_cd: entity,\n          doc_no: docNo,\n          // type: type\n        },\n      });\n      return result;\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  };\n\n  setApprove = async (status, data, requestm) => {\n    try {\n      const result = await httpClient.request({\n        url: `${this.appPath}/updateApproval/${status}`,\n        method: \"POST\",\n        data: {\n          entity_cd: data.entity_cd,\n          doc_no: data.doc_no,\n          status,\n          doc_date: data.doc_date,\n          remarks: data.reason_remarks,\n          approval_id: data.approval_id,\n          trx_type: data.trx_type,\n          approve_seq: data.approve_seq,\n          level_no: data.level_no,\n          approval_user: data.approval_user,\n          // request_no: data.doc_no,\n          requestm: requestm,\n          // line_no: requestm[0].line_no,\n          // item_cd: requestm[0].item_cd,\n          // qty: requestm.approved_qty,\n        },\n      });\n      return result;\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  };\n}\n\nexport default new MenuController();\n"]},"metadata":{},"sourceType":"module"}