{"ast":null,"code":"import _defineProperty from \"/Users/bagus/webapproval/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"/Users/bagus/webapproval/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/bagus/webapproval/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/bagus/webapproval/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/bagus/webapproval/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/bagus/webapproval/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport * as React from \"react\";\nimport { Message } from \"./Message\";\nvar defaultState = {\n  top: [],\n  \"top-left\": [],\n  \"top-right\": [],\n  \"bottom-left\": [],\n  bottom: [],\n  \"bottom-right\": []\n};\n\nvar ToastManager = /*#__PURE__*/function (_React$Component) {\n  _inherits(ToastManager, _React$Component);\n\n  var _super = _createSuper(ToastManager);\n\n  function ToastManager(props) {\n    var _this;\n\n    _classCallCheck(this, ToastManager);\n\n    _this = _super.call(this, props);\n    _this.state = defaultState;\n\n    _this.notify = function (message, options) {\n      var toast = _this.createToastState(message, options);\n\n      var position = toast.position; // prepend the toast for toasts positioned at the top of\n      // the screen, otherwise append it.\n\n      var isTop = position.includes(\"top\");\n\n      _this.setState(function (prev) {\n        return Object.assign({}, prev, _defineProperty({}, position, isTop ? [toast].concat(_toConsumableArray(prev[position])) : [].concat(_toConsumableArray(prev[position]), [toast])));\n      });\n\n      return {\n        id: toast.id,\n        position: toast.position\n      };\n    };\n\n    _this.closeAll = function () {\n      Object.keys(_this.state).forEach(function (pos) {\n        var p = pos;\n        var position = _this.state[p];\n        position.forEach(function (toast) {\n          _this.closeToast(toast.id, p);\n        });\n      });\n    };\n\n    _this.createToastState = function (message, options) {\n      var id = ++ToastManager.idCounter; // a bit messy, but object.position returns a number because\n      // it's a method argument.\n\n      var position = options.hasOwnProperty(\"position\") && typeof options.position === \"string\" ? options.position : \"top\";\n      return {\n        id: id,\n        message: message,\n        position: position,\n        showing: true,\n        duration: typeof options.duration === \"undefined\" ? 5000 : options.duration,\n        onRequestRemove: function onRequestRemove() {\n          return _this.removeToast(String(id), position);\n        },\n        type: options.type\n      };\n    };\n\n    _this.closeToast = function (id, position) {\n      _this.setState(function (prev) {\n        return Object.assign({}, prev, _defineProperty({}, position, prev[position].map(function (toast) {\n          if (toast.id !== id) return toast;\n          return Object.assign({}, toast, {\n            requestClose: true\n          });\n        })));\n      });\n    }; // actually fully remove the toast\n\n\n    _this.removeToast = function (id, position) {\n      _this.setState(function (prev) {\n        return Object.assign({}, prev, _defineProperty({}, position, prev[position].filter(function (toast) {\n          return toast.id !== id;\n        })));\n      });\n    };\n\n    _this.getStyle = function (position) {\n      var style = {\n        maxWidth: \"560px\",\n        position: \"fixed\",\n        zIndex: 5500,\n        pointerEvents: \"none\"\n      };\n\n      if (position === \"top\" || position === \"bottom\") {\n        style.margin = \"0 auto\";\n        style.textAlign = \"center\";\n      }\n\n      if (position.includes(\"top\")) {\n        style.top = 0;\n      }\n\n      if (position.includes(\"bottom\")) {\n        style.bottom = 0;\n      }\n\n      if (!position.includes(\"left\")) {\n        style.right = 0;\n      }\n\n      if (!position.includes(\"right\")) {\n        style.left = 0;\n      }\n\n      return style;\n    };\n\n    props.notify(_this.notify, _this.closeAll, _this.closeToast);\n    return _this;\n  }\n\n  _createClass(ToastManager, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return Object.keys(this.state).map(function (position) {\n        var pos = position;\n        var toasts = _this2.state[pos];\n        return React.createElement(\"span\", {\n          key: position,\n          className: \"Toaster__manager-\" + pos,\n          style: _this2.getStyle(pos)\n        }, toasts.map(function (toast) {\n          return React.createElement(Message, Object.assign({\n            position: pos,\n            key: toast.id\n          }, toast));\n        }));\n      });\n    }\n  }]);\n\n  return ToastManager;\n}(React.Component);\n\nexport { ToastManager as default };\nToastManager.idCounter = 0;","map":{"version":3,"sources":["/Users/bagus/webapproval/node_modules/toasted-notes/lib/ToastManager.js"],"names":["React","Message","defaultState","top","bottom","ToastManager","props","state","notify","message","options","toast","createToastState","position","isTop","includes","setState","prev","Object","assign","id","closeAll","keys","forEach","pos","p","closeToast","idCounter","hasOwnProperty","showing","duration","onRequestRemove","removeToast","String","type","map","requestClose","filter","getStyle","style","maxWidth","zIndex","pointerEvents","margin","textAlign","right","left","toasts","createElement","key","className","Component"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport { Message } from \"./Message\";\nconst defaultState = {\n    top: [],\n    \"top-left\": [],\n    \"top-right\": [],\n    \"bottom-left\": [],\n    bottom: [],\n    \"bottom-right\": []\n};\nexport default class ToastManager extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = defaultState;\n        this.notify = (message, options) => {\n            const toast = this.createToastState(message, options);\n            const { position } = toast;\n            // prepend the toast for toasts positioned at the top of\n            // the screen, otherwise append it.\n            const isTop = position.includes(\"top\");\n            this.setState(prev => {\n                return Object.assign({}, prev, { [position]: isTop\n                        ? [toast, ...prev[position]]\n                        : [...prev[position], toast] });\n            });\n            return { id: toast.id, position: toast.position };\n        };\n        this.closeAll = () => {\n            Object.keys(this.state).forEach(pos => {\n                const p = pos;\n                const position = this.state[p];\n                position.forEach((toast) => {\n                    this.closeToast(toast.id, p);\n                });\n            });\n        };\n        this.createToastState = (message, options) => {\n            const id = ++ToastManager.idCounter;\n            // a bit messy, but object.position returns a number because\n            // it's a method argument.\n            const position = options.hasOwnProperty(\"position\") && typeof options.position === \"string\"\n                ? options.position\n                : \"top\";\n            return {\n                id,\n                message,\n                position,\n                showing: true,\n                duration: typeof options.duration === \"undefined\" ? 5000 : options.duration,\n                onRequestRemove: () => this.removeToast(String(id), position),\n                type: options.type\n            };\n        };\n        this.closeToast = (id, position) => {\n            this.setState(prev => {\n                return Object.assign({}, prev, { [position]: prev[position].map(toast => {\n                        if (toast.id !== id)\n                            return toast;\n                        return Object.assign({}, toast, { requestClose: true });\n                    }) });\n            });\n        };\n        // actually fully remove the toast\n        this.removeToast = (id, position) => {\n            this.setState(prev => {\n                return Object.assign({}, prev, { [position]: prev[position].filter(toast => toast.id !== id) });\n            });\n        };\n        this.getStyle = (position) => {\n            let style = {\n                maxWidth: \"560px\",\n                position: \"fixed\",\n                zIndex: 5500,\n                pointerEvents: \"none\"\n            };\n            if (position === \"top\" || position === \"bottom\") {\n                style.margin = \"0 auto\";\n                style.textAlign = \"center\";\n            }\n            if (position.includes(\"top\")) {\n                style.top = 0;\n            }\n            if (position.includes(\"bottom\")) {\n                style.bottom = 0;\n            }\n            if (!position.includes(\"left\")) {\n                style.right = 0;\n            }\n            if (!position.includes(\"right\")) {\n                style.left = 0;\n            }\n            return style;\n        };\n        props.notify(this.notify, this.closeAll, this.closeToast);\n    }\n    render() {\n        return Object.keys(this.state).map(position => {\n            const pos = position;\n            const toasts = this.state[pos];\n            return (React.createElement(\"span\", { key: position, className: \"Toaster__manager-\" + pos, style: this.getStyle(pos) }, toasts.map((toast) => {\n                return React.createElement(Message, Object.assign({ position: pos, key: toast.id }, toast));\n            })));\n        });\n    }\n}\nToastManager.idCounter = 0;\n"]},"metadata":{},"sourceType":"module"}